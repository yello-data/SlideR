---
title: "Observations & variables"
subtitle: "Quantitative Methodology (UPF)"
author: "Jordi Mas Elias"
institute: "<https://www.jordimas.cat/>"
footer: "Quantitative Methodology (UPF)"
logo: logo-upf.png
bibliography: references.bib
format: 
  revealjs:
    embed-resources: true
    slide-number: true
    show-slide-number: print
    theme: simple
editor: source
editor_options: 
  chunk_output_type: console
---

## Summary

-   Terminology
-   Observations
-   Variables
-   Tidy data
-   Pivoting

```{r echo = F, message=F, warning=F}
library(tidyverse)
library(readxl)
```


# Terminology {background-color="#e8e8e8"}

## Table

It s a generic name. It can be almost anything.

- Periodic table
- Multiplication table
- Truth table
- Chi squared table 

## Spreadsheet

How Excel stores data in two dimensions:

![](img/excel-spreadsheet.png)

## Dataframe

A way to store data in R in two dimensions:

```{r echo = F}
read_xls("p5v2018.xls") |> 
  select(scode, country, year, polity2, xrreg:parreg)
```

::: aside
We will normally store them *tidy*.
:::




# Observations {background-color="#e8e8e8"}

## What is an observation?

The thing that we want to know about.

-	Unit of analysis: 
-	Unit of observation: 

## Examples:

-	States
- Bombings
- Ethnic groups
- Terrorist rups ètnics, atemptats terroristes.

## Types of dataset:

-	Monàdiques
-	Diàdiques.

## Problema unitat d’anàlisi:

-	Singer
-	Fal·làcia ecològica: “Els rics són menys corruptes”.



# Variables {background-color="#e8e8e8"}

## What is a variable?



## Types of variables (I): Nominal


## Types of variables (I): Ordinal


## Types of variables (III): Interval


## Types of variables (III): Ratio


# Recoding variables {background-color="#e8e8e8"}




# Tidy data {background-color="#e8e8e8"}

## Wickham rules {.scrollable}

We consider a dataframe as *tidy* if it fulfills the following requirements [@Wickham2014]:

![](img/wickham.jpeg){style="float:right;" width="300"}

::: columns
::: {.column width="50%"}

- Each dataframe has one **unit of observation**.
- **Observations** are represented in the rows.
- **Variables** are represented in the columns.
- Each **cell** indicates a value.
:::

::: {.column width="40%"}
:::

```{r eval = T, fig.align='center', fig.width=20}
knitr::include_graphics("img/tidydata.png")
```
:::


# Pivoting dataframes {background-color="#e8e8e8"}

## What does it mean?

Canviem la unitat d’anàlisi, les observacions, i les variables del marc de dades, mantenint la mateixa informació.

- Pivot longer
- Pivot wider

## Pivot longer


## Pivot wider




